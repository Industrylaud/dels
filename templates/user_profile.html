{% extends '_base.html' %}

{% load crispy_forms_tags %}

{% block title %}Profile{% endblock %}
{% block content %}
<div class="row">
    <div class="col-3">
        <div class="nav flex-column nav-pills" id="v-pills-tab" role="tablist" aria-orientation="vertical">
            <a class="nav-link active" id="v-pills-profile-tab" data-toggle="pill" href="#v-pills-profile"
               role="tab" aria-controls="v-pills-profile" aria-selected="true">Profile</a>
            <a class="nav-link" id="v-pills-settings-tab" data-toggle="pill" href="#v-pills-settings" role="tab"
               aria-controls="v-pills-settings" aria-selected="false">Settings</a>
        </div>
    </div>

    <div class="col-9">
        <div class="tab-content" id="v-pills-tabContent">
            <div class="tab-pane fade show active" id="v-pills-profile" role="tabpanel"
                 aria-labelledby="v-pills-profile-tab">
                <ul class="list-group list-group-flush">
                    <li class="list-group-item">
                        <h3 class="mb-4">Personal Data</h3>
                        <p><b>First name:</b> {{ object.first_name }}</p>
                        <p><b>Last name:</b> {{ object.last_name }}</p>
                    </li>
                    <li class="list-group-item">
                        <h3 class="mb-4">Account Data</h3>
                        <p><b>User name:</b> {{ object.username }}</p>
                        <p><b>Email address:</b> {{ object.email }}</p>
                    </li>
                    <li class="list-group-item">
                        <h3 class="mb-4">Student Data</h3>
                        <p><b>Index number: </b>{{ object.index_number }}</p>
                        <p><b>Student group: </b>{{ object.student_group }}</p>
                        <p><b>Sub group:</b> {{ object.get_sub_group_display }}</p>
                    </li>
                </ul>
            </div>
            <div class="tab-pane fade" id="v-pills-settings" role="tabpanel" aria-labelledby="v-pills-settings-tab">
                <ul class="list-group list-group-flush">
                    <li class="list-group-item">
                        <div class="row ml-5">
                            <div class="col-4">
                                <h3>Account info</h3>
                                <a class="mb-3 btn btn-outline-info btn-block" href="{% url 'account_change_password' %}">
                                    Change password</a>
                                <a class="btn btn-outline-info btn-block" href="{% url 'email_change' %}">Change email</a>
                            </div>
                            <div class="col-4">
                                <h3>Student info</h3>
                                <form method="post">
                                    {% csrf_token %}
                                    {{ form|crispy }}
                                    <button type="submit" class="btn btn-success">Save</button>
                                </form>
                            </div>
                        </div>
                    </li>
                </ul>
            </div>
        </div>
    </div>
</div>


{% endblock %}